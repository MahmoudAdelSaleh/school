<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #007bff; --secondary: #ffc107; --dark: #343a40; --light: #f8f9fa; }
        body { font-family: 'Tajawal', sans-serif; margin: 0; padding: 0; background-color: var(--light); color: var(--dark); text-align: right; }

        /* Navbar */
        .navbar { background-color: var(--primary); color: white; padding: 15px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .navbar-container { width: 90%; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo a { color: white; text-decoration: none; font-size: 1.4em; font-weight: 700; }

        /* Hero Section */
        .hero { background: linear-gradient(45deg, #007bff, #0056b3); color: white; text-align: center; padding: 60px 20px; }
        .hero h1 { margin: 0; font-size: 2.2em; }
        .hero p { font-size: 1.1em; opacity: 0.9; margin-top: 10px; }

        .container { width: 90%; max-width: 1000px; margin: 0 auto; }

        /* Director Section */
        .section-card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin: -30px auto 30px; position: relative; z-index: 10; }
        .section-title { color: var(--primary); border-right: 5px solid var(--secondary); padding-right: 15px; margin-bottom: 20px; }
        .director-p { line-height: 1.8; text-align: justify; color: #555; }

        /* Ø±Ø§Ø¨Ø· Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ù„Ø© */
        .result-link-wrapper { margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee; }
        .btn-result-link { display: inline-flex; align-items: center; color: #28a745; text-decoration: none; font-weight: 700; font-size: 1.1em; transition: 0.3s; }
        .btn-result-link:hover { color: #1e7e34; transform: scale(1.02); }

        /* Qureo Inquiry Box */
        .inquiry-container { background: #e9ecef; padding: 40px 0; margin-top: 20px; border-radius: 20px; }
        .inquiry-box { background: white; padding: 30px; border-radius: 12px; max-width: 500px; margin: 0 auto; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; }
        .inquiry-box h2 { color: var(--primary); margin-top:0; }
        .inquiry-box input { width: 100%; padding: 12px; margin: 15px 0; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; text-align: center; box-sizing: border-box; }
        .btn-search { background: var(--primary); color: white; border: none; padding: 12px 30px; border-radius: 8px; cursor: pointer; font-weight: 700; width: 100%; font-size: 1.1em; }

        /* Results Area */
        #q-display { margin-top: 20px; display: none; text-align: right; animation: fadeIn 0.5s; }
        .data-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .data-table td { padding: 10px; border-bottom: 1px solid #eee; }
        .label { font-weight: 700; color: var(--primary); width: 40%; }

        .footer { background: var(--dark); color: white; padding: 30px 0; text-align: center; margin-top: 50px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 600px) { .hero h1 { font-size: 1.6em; } }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="navbar-container">
            <div class="logo"><a href="#">Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</a></div>
        </div>
    </nav>

    <header class="hero">
        <div class="container">
            <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</h1>
            <p>Ù†Ø­Ùˆ Ù…Ø³ØªÙ‚Ø¨Ù„ ØªØ¹Ù„ÙŠÙ…ÙŠ Ø±Ù‚Ù…ÙŠ Ù…ØªÙ…ÙŠØ²</p>
        </div>
    </header>

    <div class="container">
        <section class="section-card">
            <h2 class="section-title">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
            <div class="director-p">
                <p><strong>Ø£Ø¨Ù†Ø§Ø¦ÙŠ Ø§Ù„Ø·Ù„Ø§Ø¨ØŒ Ø²Ù…Ù„Ø§Ø¦ÙŠ Ø§Ù„Ù…Ø¹Ù„Ù…ÙˆÙ†..</strong></p>
                <p>Ù†Ø³Ø¹Ù‰ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„ØªÙˆÙÙŠØ± ÙƒØ§ÙØ© Ø§Ù„Ø³Ø¨Ù„ Ø§Ù„ØªÙŠ ØªØ¶Ù…Ù† Ù„ÙƒÙ… ØªØ¬Ø±Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø±Ø§Ø¦Ø¯Ø©. Ø¥Ù† Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠ ÙÙŠ Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ù„ÙŠØ³ Ù…Ø¬Ø±Ø¯ Ø´Ø¹Ø§Ø±ØŒ Ø¨Ù„ Ù‡Ùˆ ÙˆØ§Ù‚Ø¹ Ù†Ø¹ÙŠØ´Ù‡ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨ÙƒÙ„ Ø¯Ù‚Ø© ÙˆØ´ÙØ§ÙÙŠØ©.</p>
                <strong>Ø§Ù„Ù…Ø¯ÙŠØ± / Ø±Ø¬Ø¨ Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø³Ø§Ù„Ù…</strong>
            </div>

            <div class="result-link-wrapper">
                <a href="result.html" class="btn-result-link">
                    <span>ğŸ“‘ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª (Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„Ø°Ù‡Ø§Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©)</span>
                </a>
            </div>
        </section>

        <div class="inquiry-container">
            <div class="inquiry-box">
                <h2>Ù…Ù†ØµØ© ÙƒÙˆØ±ÙŠÙˆ (AI)</h2>
                <p>Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</p>
                <input type="text" id="nationalId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù€ 14 Ø±Ù‚Ù…..." maxlength="14">
                <button class="btn-search" onclick="fetchQureoData()">Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø¢Ù†</button>

                <div id="q-display">
                    <table class="data-table">
                        <tr><td class="label">Ø§Ù„Ø§Ø³Ù…:</td><td id="s-name"></td></tr>
                        <tr><td class="label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</td><td id="s-user"></td></tr>
                        <tr><td class="label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</td><td id="s-pass" style="color:red; font-weight:bold;"></td></tr>
                    </table>
                    <div style="margin-top:15px;">
                        <a id="s-link" href="#" target="_blank" style="background:#28a745; color:white; padding:8px 15px; text-decoration:none; border-radius:5px; display:inline-block;">ÙØªØ­ Ø§Ù„Ù…Ù†ØµØ© Ù…Ø¨Ø§Ø´Ø±Ø©</a>
                    </div>
                </div>
                <div id="q-error" style="color:red; margin-top:10px; font-weight:bold;"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù†Ø´Ø± Â© 2026 - Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</p>
        <p>ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø³ØªØ§Ø°: Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø§Ø¯Ù„</p>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
        const firebaseConfig = {
          apiKey: "AIzaSyAxyKaH34L-IDFOA4j4YMHAFfuYKaA-BjQ",
          authDomain: "khedma-sec.firebaseapp.com",
          projectId: "khedma-sec",
          storageBucket: "khedma-sec.firebasestorage.app",
          messagingSenderId: "671564737679",
          appId: "1:671564737679:web:212314283f72968ecad4fa",
          measurementId: "G-LHB4Y87ZT6"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…Ù†ØµØ© ÙƒÙˆØ±ÙŠÙˆ (Realtime Database)
        window.fetchQureoData = async function() {
            const idInput = document.getElementById('nationalId').value.trim();
            const display = document.getElementById('q-display');
            const error = document.getElementById('q-error');

            display.style.display = "none";
            error.innerText = "";

            if (idInput.length !== 14) {
                error.innerText = "ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ 14 Ø±Ù‚Ù… ØµØ­ÙŠØ­.";
                return;
            }

            try {
                // Ø§Ù„ÙƒÙˆØ¯ Ø¨ÙŠØ¨Ø­Ø« ÙÙŠ 'students' Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø§ØªØ§Ø¨ÙŠØ²
                const dbRef = ref(db);
                const snapshot = await get(child(dbRef, 'students'));
                
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙŠØ³ÙˆÙ†
                    const student = data.find(s => String(s["Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ"]) === idInput);

                    if (student) {
                        document.getElementById('s-name').innerText = student["Ø§Ù„Ø§Ø³Ù…"];
                        document.getElementById('s-user').innerText = student["Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"];
                        document.getElementById('s-pass').innerText = student["ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"];
                        // Ø§Ø³ØªØ®Ø¯Ø§Ù… "Ø±Ø§Ø¨Ø· Ù…Ù†ØµØ© " Ø¨Ø§Ù„Ù…Ø³Ø§ÙØ© ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø¬ÙŠØ³ÙˆÙ† Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
                        document.getElementById('s-link').href = student["Ø±Ø§Ø¨Ø· Ù…Ù†ØµØ© "] || "https://me-portal.qureo.education";
                        display.style.display = "block";
                    } else {
                        error.innerText = "Ø¹ÙÙˆØ§Ù‹ØŒ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯.";
                    }
                } else {
                    error.innerText = "Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙØ§Ø±ØºØ©.";
                }
            } catch (err) {
                error.innerText = "Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† ÙØ§ÙŠØ± Ø¨ÙŠØ².";
                console.error(err);
            }
        }
    </script>
</body>
</html>
